# Example: Generated Path-Specific Rule File

This is an example of a path-specific rule file that might be generated by the Claude Config Helper Skill. This file uses YAML frontmatter to limit its scope to specific file types.

---

## File: `.claude/rules/api-conventions.md`

```markdown
---
paths:
  - "src/api/**/*.ts"
  - "src/controllers/**/*.ts"
  - "src/routes/**/*.ts"
---

# API Development Conventions

## Request Handling

- Always validate request input using Zod schemas
- Return consistent error responses with status codes and messages
- Use async/await for all asynchronous operations
- Handle errors with try-catch blocks and proper error logging

## Response Format

- Use standard HTTP status codes (200, 201, 400, 404, 500, etc.)
- Return JSON responses with consistent structure:
  ```typescript
  {
    success: boolean,
    data?: any,
    error?: { message: string, code: string }
  }
  ```

## Authentication and Authorization

- Check authentication on all protected routes
- Use middleware for authentication checks
- Return 401 for unauthenticated requests
- Return 403 for unauthorized requests
- Never expose sensitive data in error messages

## Database Operations

- Use transactions for operations that modify multiple tables
- Always handle database errors gracefully
- Use parameterized queries to prevent SQL injection
- Close database connections properly

## Logging

- Log all API requests with method, path, and status code
- Log errors with full stack traces
- Never log sensitive data (passwords, tokens, etc.)
- Use appropriate log levels (info, warn, error)

## Documentation

- Add OpenAPI/Swagger comments for all endpoints
- Document request and response schemas
- Include example requests and responses
- Document all possible error responses
```

---

## Usage Context

This file would be created at `./.claude/rules/api-conventions.md` and would **only apply** when working with files matching the glob patterns:
- `src/api/**/*.ts`
- `src/controllers/**/*.ts`
- `src/routes/**/*.ts`

When Claude is editing or creating files in other directories, these rules would not apply.

## YAML Frontmatter Explanation

```yaml
---
paths:
  - "src/api/**/*.ts"
  - "src/controllers/**/*.ts"
  - "src/routes/**/*.ts"
---
```

- **Three dashes** (`---`) before and after the YAML block
- **`paths:`** field contains an array of glob patterns
- **Each pattern** starts with `  - ` (two spaces, dash, space)
- **Patterns in double quotes** for proper YAML formatting
- **`**`** matches any number of directories
- **`*.ts`** matches all TypeScript files

## Benefits of Path-Specific Rules

1. **Focused rules**: API conventions only apply to API code
2. **No conflicts**: Different rules can apply to different parts of the codebase
3. **Better organization**: Each rule file has a clear, limited scope
4. **Easier maintenance**: Update API rules without affecting other code

## Directory Structure

```
project-root/
└── .claude/
    └── rules/
        ├── api-conventions.md       (this file)
        ├── typescript-rules.md      (other rules)
        └── testing-standards.md     (other rules)
```

## Verification

After creating this file, users can verify it's loaded by running:
```bash
/memory
```

The output will show this rule file and indicate which paths it applies to.

## When These Rules Apply

Claude will use these rules when:
- Reading files in `src/api/`, `src/controllers/`, or `src/routes/`
- Creating new files in these directories
- Editing existing files in these directories
- Answering questions about code in these directories

Claude will **not** use these rules when:
- Working with frontend components
- Editing configuration files
- Working with files outside the specified paths
